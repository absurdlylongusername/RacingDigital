<mat-card class="leaderboard-card">
  <h2 class="title">Jockey leaderboard</h2>

  <div class="table-container" *ngIf="data().length; else empty">
    <table mat-table [dataSource]="dataSource"
           matSort matSortActive="points" matSortDirection="desc" matSortDisableClear
           class="mat-elevation-z1 leaderboard-table">

      <ng-container matColumnDef="jockey">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Jockey</th>
        <td mat-cell *matCellDef="let r">{{ r.jockey }}</td>
      </ng-container>

      <ng-container matColumnDef="points">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Points</th>
        <td mat-cell *matCellDef="let r" class="num">{{ r.points }}</td>
      </ng-container>

      <ng-container matColumnDef="races">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Races</th>
        <td mat-cell *matCellDef="let r" class="num">{{ r.races }}</td>
      </ng-container>

      <ng-container matColumnDef="winPercentage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Win%</th>
        <td mat-cell *matCellDef="let r" class="num">{{ r.winPercentage | number:'1.0-1' }}%</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="cols; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: cols;"></tr>
    </table>
  </div>

  <ng-template #empty>
    <p class="empty">No data.</p>
  </ng-template>
</mat-card>
